import{u as B,a as U,r as o,j as e,V as s,e as l,Q as L,f as _,d as i,R as y,X as g,y as p}from"./index.b078bf5f.js";import{P as w,a as h,L as M}from"./4e238e62.js";import{u as W}from"./14e817dd.js";import"./18d64e70.js";const $=()=>{B();const t=U(),d=W(),[x,m]=o.useState(""),[a,P]=o.useState(""),[n,E]=o.useState(""),[v,j]=o.useState(!1),[u,F]=o.useState(!1),[c,k]=o.useState(!1),[f,S]=o.useState(!1),[R,C]=o.useState(!1),[I,b]=o.useState(!1);o.useEffect(()=>{b(n!==a)},[n,a]);const V=i;return e.jsxs(e.Fragment,{children:[e.jsx(s,{type:"左右___主轴居中",w:"full",h:"full",style:{alignItems:"flex-start",paddingTop:"31px",paddingLeft:"82px",paddingRight:"63px",paddingBottom:"29px"},children:d?e.jsx(s,{type:"上下",w:"full",h:"full",style:{flex:"1 1 auto"},children:e.jsxs(s,{type:"左右___主轴居中",w:"full",style:{flex:"1 1 0%",gap:"36px",padding:"36px"},children:[e.jsxs(s,{type:"上下",h:"full",style:{flex:"1 1 739px",background:"#FFFFFF",borderRadius:12},children:[e.jsx(s,{type:"左右___主轴居中",w:"full",h:77,style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), #3E3E3E",borderRadius:"12px 12px 0px 0px"},children:e.jsx(l,{type:"正文内容_黑底白字",style:{color:"#FFFFFF",fontSize:20,fontWeight:500},text:t.个人信息||"个人信息"})}),e.jsxs(s,{type:"上下___交叉轴居左",w:"full",style:{flex:"0 1 0%",padding:"0 43px",justifyContent:"flex-start"},children:[e.jsxs(s,{type:"左右",w:"full",style:{flex:"1 0 64px",justifyContent:"space-between",borderBottom:"1px solid var(--color-background-unimportant)",gap:"12px",padding:"12px 0"},children:[e.jsx(l,{type:"正文内容",text:t.当前登陆邮箱||"当前登陆邮箱"}),e.jsx(l,{type:"辅助内容",style:{padding:"0 10px",wordBreak:"break-word"},text:d?.email||""})]}),e.jsxs(s,{type:"左右",w:"full",style:{flex:"1 0 64px",justifyContent:"space-between",borderBottom:"1px solid var(--color-background-unimportant)",flexWrap:"wrap",gap:"12px",padding:"12px 0"},children:[e.jsx(s,{type:"左右___主轴居中",style:{flex:"0 0 auto"},children:e.jsx(l,{type:"正文内容",wrap:!0,text:t.账户昵称||"账户昵称"})}),e.jsx(l,{type:"辅助内容",style:{padding:"0 10px",wordBreak:"break-word"},wrap:!0,text:d?.name})]})]}),e.jsx(s,{h:36}),e.jsx(s,{type:"左右___主轴居中",style:{flex:"0 0 auto"},children:e.jsx(_,{text:i.isWaitingServerResponse?t.请稍候||"请稍候":t.退出登录||"退出登录",disabled:i.isWaitingServerResponse,onClick:async()=>{const r=await y.userLogout(g);r.errCode===0?(i.currentUser=void 0,p.success(t.登出成功,i.toastOptions)):r.errMsg&&p.error(t[r.errMsg]||r.errMsg,i.toastOptions)},hidden:!1})})]}),e.jsxs(s,{type:"上下",h:"full",style:{flex:"1 1 739px",background:"#FFFFFF",borderRadius:12,marginLeft:"20px"},children:[e.jsx(s,{type:"左右___主轴居中",w:"full",h:77,style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), #3E3E3E",borderRadius:"12px 12px 0px 0px"},children:e.jsx(l,{type:"正文内容_黑底白字",style:{color:"#FFFFFF",fontSize:20,fontWeight:500},text:t.修改密码||"修改密码"})}),e.jsxs(s,{type:"上下___交叉轴居左",w:"full",style:{flex:"0 1 0%",padding:"0 43px",justifyContent:"flex-start"},children:[e.jsxs(s,{type:"左右",w:"full",style:{flex:"1 0 64px",justifyContent:"space-between",borderBottom:"1px solid var(--color-background-unimportant)",gap:"12px",padding:"12px 0"},children:[e.jsx(s,{type:"左右",w:64,style:{flex:"0 0 auto"},children:e.jsx(l,{type:"正文内容",wrap:!0,text:t.原密码||"原密码"})}),e.jsx(s,{type:"左右___主轴居中",style:{flex:"0 0 auto"},children:e.jsx(w,{value:x,isPasswordVisible:u,placeholder:t.请输入原密码||"请输入原密码",onChange:r=>{m(r)},placeholderColor:"#3E3E3E",textColor:"#3E3E3E",fontSize:"16px"})}),e.jsx(h,{isPasswordVisible:u,onClick:()=>{F(!u)}})]}),e.jsxs(s,{type:"左右",w:"full",style:{flex:"1 0 64px",justifyContent:"space-between",borderBottom:"1px solid var(--color-background-unimportant)",gap:"12px",padding:"12px 0"},children:[e.jsx(s,{type:"左右",w:64,style:{flex:"0 0 auto"},children:e.jsx(l,{type:"正文内容",wrap:!0,text:t.新密码||"新密码"})}),e.jsxs(s,{type:"左右___主轴居中",w:"25em",style:{position:"relative"},children:[e.jsx(w,{value:a,isPasswordVisible:c,placeholder:t.密码长度限制625个字符且不允许有空格||"密码长度限制6-25个字符且不允许有空格",onChange:r=>{r.length<6||r.length>25||r.includes(" ")?C(!0):C(!1),P(r)},textColor:"#3E3E3E",placeholderColor:"#3E3E3E",fontSize:"16px"}),e.jsx(l,{type:"提示文本",style:{position:"absolute",top:20,visibility:a&&R?"visible":"hidden"},text:t.密码长度应在6至25个字符之间且不允许有空格||"*密码长度应在6至25个字符之间，且不允许有空格"})]}),e.jsx(h,{isPasswordVisible:c,onClick:()=>{k(!c)}})]}),e.jsxs(s,{type:"左右",w:"full",style:{flex:"1 0 64px",justifyContent:"space-between",borderBottom:"1px solid var(--color-background-unimportant)",gap:"12px",padding:"12px 0"},children:[e.jsx(s,{type:"左右",w:64,style:{flex:"0 0 auto"},children:e.jsx(l,{type:"正文内容",wrap:!0,text:t.确认密码||"确认密码"})}),e.jsxs(s,{type:"左右___主轴居中",w:"25em",style:{position:"relative"},children:[e.jsx(w,{value:n,isPasswordVisible:f,placeholder:t.再次输入您设置的新密码||"再次输入您设置的新密码",onChange:r=>{E(r)},textColor:"#3E3E3E",placeholderColor:"#3E3E3E",fontSize:"16px"}),e.jsx(l,{type:"提示文本",style:{position:"absolute",top:20,visibility:n&&I?"visible":"hidden"},text:t.密码不一致||"密码不一致"})]}),e.jsx(h,{isPasswordVisible:f,onClick:()=>{S(!f)}})]})]}),e.jsx(s,{h:36}),e.jsx(s,{type:"左右___主轴居中",style:{flex:"0 0 auto"},children:e.jsx(_,{text:t.确认修改||"确认修改",onClick:async()=>{x&&a&&n&&await y.userChangePassword(g,x,a).then(async r=>{r.errCode===0?(p.success(t.密码修改成功||"密码修改成功",i.toastOptions),await y.userLogout(g).then(O=>{O.errCode===0&&(i.currentUser=void 0,p.success(t.登出成功,i.toastOptions))})):p.error((t.密码修改失败||"密码修改失败")+"："+r.errMsg,i.toastOptions)})},hidden:!1,disabled:!1})})]})]})}):e.jsxs(s,{type:"上下",h:"full",style:{flex:"1 1 0%",maxWidth:"1422px",background:"rgb(255,255,255)",borderRadius:12},children:[e.jsx(s,{w:"full",h:77,style:{background:"#3E3E3E",borderRadius:"12px 12px 0 0"}}),e.jsxs(s,{type:"上下",w:"full",h:"full",style:{justifyContent:"center"},children:[e.jsx("svg",{width:"233",height:"233",viewBox:"0 0 233 233",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M116.5 19.417C62.881 19.417 19.4167 62.8812 19.4167 116.5C19.4167 170.119 62.881 213.584 116.5 213.584C170.119 213.584 213.583 170.119 213.583 116.5C213.583 62.8812 170.119 19.417 116.5 19.417ZM82.5209 92.2295C82.5209 87.7673 83.3998 83.3488 85.1074 79.2262C86.815 75.1037 89.3179 71.3578 92.4732 68.2026C95.6284 65.0473 99.3743 62.5444 103.497 60.8368C107.619 59.1292 112.038 58.2503 116.5 58.2503C120.962 58.2503 125.381 59.1292 129.503 60.8368C133.626 62.5444 137.372 65.0473 140.527 68.2026C143.682 71.3578 146.185 75.1037 147.893 79.2262C149.6 83.3488 150.479 87.7673 150.479 92.2295C150.479 101.241 146.899 109.884 140.527 116.256C134.155 122.629 125.512 126.209 116.5 126.209C107.488 126.209 98.8455 122.629 92.4732 116.256C86.1009 109.884 82.5209 101.241 82.5209 92.2295ZM177.255 164.887C169.985 174.026 160.746 181.405 150.226 186.475C139.706 191.545 128.178 194.174 116.5 194.167C104.822 194.174 93.2937 191.545 82.774 186.475C72.2543 181.405 63.015 174.026 55.7453 164.887C71.4825 153.596 92.9574 145.625 116.5 145.625C140.043 145.625 161.518 153.596 177.255 164.887Z",fill:"#989898"})}),e.jsx(s,{h:16}),e.jsx(l,{type:"小标题",text:t.暂未登录||"暂未登录"}),e.jsx(s,{h:28}),e.jsx(l,{type:"辅助内容",text:t.登录后即可下载发布作品||"登录后即可下载、发布作品"}),e.jsx(s,{h:37}),e.jsx(L,{text:`${t.登录||"登录"}/${t.注册||"注册"}`,onClick:()=>{j(!0),V.logInOrRegisterPopUpInitialPage="login"},style:{width:368,height:42}})]})]})}),v&&e.jsx(M,{onClose:()=>{j(!1)}})]})};export{$ as Page_UserCenter_个人中心};
