import{s as w,a as S,r as a,j as c,V as y,a2 as m,a3 as R}from"./index.b078bf5f.js";import{g as j}from"./0a36fd0f.js";const $=w.div(e=>({position:"absolute",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:e.size,width:`${e.radius}px`,height:`${e.radius}px`,left:`${e.x}px`,top:`${e.y}px`,backgroundColor:e.vlu?e.chose.back:e.haveChange?e.haveChange.back:e.active.back,color:e.vlu?e.chose.clor:e.haveChange?e.haveChange.clor:e.active.clor,border:e.vlu?`3px solid ${e.chose.border}`:e.haveChange?`1px solid ${e.haveChange.border}`:`1px solid ${e.active.border}`,"&::before":{fontSize:"12px"},"&:hover":{...e.vlu||e.haveChange?{}:{backgroundColor:e.hover.back,color:e.hover.clor,border:`3px solid ${e.hover.border}`},transform:"scale(2)",zIndex:20},"&:active":{backgroundColor:e.chose.back,color:e.chose.clor,border:`3px solid ${e.chose.border}`}}));w.div`
  position: fixed;
  z-index: 9999;
  pointer-events: none;
  background-color: #B4EFE4;
  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.15);
  border-radius: 8px;
  padding: 12px;
`;const _=e=>{const v=S(),s=a.useRef(null),o=j(e.layout),x=a.useRef([]),[d,f]=a.useState(-1),[k,g]=a.useState(!1),[C,z]=a.useState(1),[b,E]=a.useState({x:0,y:0});return a.useEffect(()=>{x.current=Array(o.mouselayout.length).fill(null)},[o.mouselayout.length]),a.useEffect(()=>{const t=()=>{if(s.current===null)return;const i=s.current.clientWidth,l=s.current.clientHeight,u=i/o.mouse_w,h=l/o.mouse_h,n=Math.min(u,h);z(n)};t();const r=new ResizeObserver(t);return s.current&&r.observe(s.current),()=>{window.removeEventListener("resize",t),s.current&&r.unobserve(s.current)}},[e.layout,window.innerWidth,window.innerHeight]),c.jsxs(y,{divRef:s,w:"full",h:"full",style:{justifyContent:"center",alignItems:"center",overflow:"hidden"},children:[c.jsxs(y,{w:o.mouse_w,h:o.mouse_h,style:{position:"relative",zoom:`${C}`},children:[c.jsx("img",{src:o.mouse_url,style:{width:"100%",height:"100%"}}),e.isLight&&o.mouselayout.map((t,r)=>{const i=e.configs.find(n=>n.original===t.value),{text:l}=m(t.value,i);let u=null;l==="禁用按键"?u=o.disableBk:l!==void 0&&(u=o.modifyBk);const h=n=>{f(r),g(!0),E({x:n.clientX,y:n.clientY})};return c.jsx(R.Fragment,{children:c.jsx($,{ref:n=>x.current[r]=n,radius:o.radius,x:t.x,y:t.y,active:o.active,hover:o.hover,chose:o.chose,vlu:e.value===t.value,haveChange:u,size:o.size,onClick:()=>{e.onClick&&e.onClick(t)},onMouseEnter:h,onMouseLeave:()=>{f(-1),g(!1)},children:t.order})},r)})]}),k&&d!==-1&&o.mouselayout[d]&&c.jsx("div",{style:{position:"fixed",left:b.x+20,top:b.y-40,backgroundColor:"#B4EFE4",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.15)",borderRadius:"8px",padding:"12px",zIndex:9999,pointerEvents:"none"},children:(()=>{const t=o.mouselayout[d],r=e.configs.find(l=>l.original===t.value),{text:i}=m(t.value,r);return i?v[i]??i:v[t.code]})()})]})};export{_ as M};
