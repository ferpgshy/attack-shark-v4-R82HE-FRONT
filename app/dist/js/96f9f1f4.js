import{ai as s,al as t,N as n,am as d}from"./index.b078bf5f.js";import{C as a}from"./5e635fe2.js";class u extends a{boot_usb=async()=>{if(this.deviceType.isBoot)return this.deviceType.devAddr.toString();await this.sendMsg(new Uint8Array([127,85,170,85,170]),s.Bit7),await t(1e3*1);let o=0,e;for(;e===void 0&&o<100;)await t(500),e=n.devlistList.find(i=>i.oneofDev.oneofKind==="dev"&&i.oneofDev.dev.devType===d.YZWBoot),o++;if(!(e===void 0||e.oneofDev.oneofKind!=="dev"))return e.oneofDev.dev.path};upgrade=async(o,e)=>{e(0);const i=await this.boot_usb();return i===void 0?!1:await this.upgrade_dev(o,i,65536,e)}}export{u as C};
