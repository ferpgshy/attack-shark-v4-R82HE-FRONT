import{G as b,ao as m,d as c,a9 as f,j as u,V as S}from"./index.b078bf5f.js";import{u as j}from"./3ce44458.js";const R=p=>()=>{const d=b();return m({ref:d,onInit:r=>{const a=p(r);c.keyboardState=c.createKeyboardState();const n={};return Object.entries(a.status.default?.id??{}).forEach(([e,i])=>{const t=i.querySelector("text");t&&(n[e]=t.querySelector("tspan")?.textContent||"")}),{ui:a,初始值字典:n}},onRefresh:({ui:r,初始值字典:a})=>{const n=window?.innerWidth<=1280?.8:window?.innerWidth<=1440?.85:window?.innerWidth<=1536?.9:window?.innerWidth<=1600?.95:1;r.root&&(r.root.style.transform=`scale(${n})`);const e=r.status;if(!e)return;const i=c.keyboardState.keys;i&&j.updateKeyboard(r,t=>{if(Object.values(e).forEach(s=>{s.id[t]&&(s.id[t].style.display="none")}),!i[t]){e.disable&&f.show(e.disable?.id[t]);return}const h=s=>{if(!s)return;Array.from(s.querySelectorAll("text")??[]).forEach((w,x)=>{if(x===0){const y=a[t];y&&f.setText(w,y)}});const l=s.querySelectorAll("path")[0];l&&(l.style.display="none")};let o=e.default;o&&(f.show(o.id[t]),h(o.id[t]))})}}),u.jsx(u.Fragment,{children:u.jsx(S,{divRef:d})})};export{R as f};
